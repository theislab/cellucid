/* ========================================================================
   Buttons – consistent pill style across the sidebar
   ===================================================================== */

/* Primary sidebar button family */
.reset-btn,
.toggle-switch,
.btn-small,
.benchmark-preset,
.legend-controls button,
.legend-actions button {
  font-family: var(--font-display);
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  border-radius: var(--radius-full);
  padding: var(--space-1-5) var(--space-2-5);
  border: var(--border-strong);
  background-color: var(--color-surface-secondary);
  color: var(--color-text-primary);
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  transition: var(--transition-colors), transform var(--duration-fast) var(--easing-standard);
}

.reset-btn:hover,
.toggle-switch:hover,
.btn-small:hover,
.benchmark-preset:hover,
.legend-controls button:hover,
.legend-actions button:hover {
  background-color: var(--color-border-light);
  transform: translate(-1px, -1px);
  box-shadow: var(--shadow-md);
}

.reset-btn:active,
.toggle-switch:active,
.btn-small:active,
.benchmark-preset:active,
.legend-controls button:active,
.legend-actions button:active {
  transform: translate(0, 0);
  box-shadow: var(--shadow-xs);
  background-color: var(--color-border-default);
}

.reset-btn:disabled,
.toggle-switch:disabled,
.btn-small:disabled,
.benchmark-preset:disabled {
  opacity: var(--opacity-50);
  cursor: not-allowed;
  background-color: var(--color-surface-tertiary);
  box-shadow: none;
  transform: none;
}

/* Info button (small circular "i" icon) */
.info-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--space-3);
  height: var(--space-3);
  font-family: var(--font-display);
  font-size: calc(var(--text-2xs) - var(--space-px));
  font-weight: 500;
  line-height: 1;
  padding-left: calc(var(--space-px) / 2);
  padding-bottom: var(--space-px);
  border-radius: 50%;
  border: var(--border-width-1) solid var(--color-text-tertiary);
  background: transparent;
  color: var(--color-text-tertiary);
  cursor: pointer;
  transition: var(--transition-all);
  flex-shrink: 0;
  text-transform: lowercase;
}

.info-btn:hover {
  border-color: var(--color-text-secondary);
  color: var(--color-text-secondary);
}

/* Info tooltip popup - uses fixed positioning to escape accordion overflow.
   JS sets top/left dynamically based on button position. */
.info-tooltip {
  position: fixed;
  z-index: var(--z-tooltip);
  background: var(--color-surface-elevated);
  border: var(--border-strong);
  box-shadow: var(--shadow-md);
  width: 240px;
  box-sizing: border-box;
  display: none;
}

.info-tooltip-content {
  padding: var(--space-2) var(--space-2-5);
  font-size: var(--text-xs);
  line-height: 1.45;
  color: var(--color-text-secondary);
}

.info-tooltip-content .info-step {
  margin-bottom: var(--space-1);
}

.info-tooltip-content .info-step:last-child {
  margin-bottom: 0;
}

.info-tooltip-content .info-cmd {
  color: var(--color-text-tertiary);
}

.info-tooltip-content .info-link {
  color: var(--color-text-secondary);
  text-decoration: none;
}

.info-tooltip-content .info-link:hover {
  text-decoration: underline;
}

/* Toggle switch pressed state */
.toggle-switch {
  min-width: 60px;
  text-align: center;
  background: var(--color-surface-elevated);
}

.toggle-switch[aria-pressed="true"] {
  background-color: var(--color-text-primary);
  color: var(--color-text-inverse);
  border-color: var(--color-text-primary);
}

/* Disabled state (legend action “Filter” when live mode on) */
.legend-actions button:disabled,
.legend-actions button.button-disabled {
  opacity: var(--opacity-50);
  cursor: not-allowed;
  background-color: var(--color-surface-tertiary);
  box-shadow: none;
}

/* Camera / smoke buttons reuse reset-btn */

/* Smoke rebuild “dirty” state */
#smoke-rebuild-btn.smoke-dirty {
  background-color: var(--color-text-primary);
  color: var(--color-text-inverse);
  border-color: var(--color-text-primary);
  box-shadow: var(--shadow-md);
}

/* Smoke rebuild disabled */
#smoke-rebuild-btn:disabled {
  opacity: var(--opacity-55);
  cursor: default;
  box-shadow: none;
}
